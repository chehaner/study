#### 串行和并行
```javascript
async function A() {
  await new Promise(resolve => setTimeout(resolve, 1000));
}
async function B() {
  await new Promise(resolve => setTimeout(resolve, 2000));
}
async function C() {
  await new Promise(resolve => setTimeout(resolve, 3000));
}
async function D() {
  await new Promise(resolve => setTimeout(resolve, 4000));
}
async function execute() {
  await A();
  await B();
  await Promise.all([C(), D()]);
}
execute();
```

#### 带并发限制的请求调度器
```javascript
function limitRequest(urls, limit, callback) {
  let index = 0; // 当前请求索引
  let count = 0; // 当前并发数量
  let results = new Array(urls.length); // 存储请求结果

  return new Promise((resolve) => {
    function next() {
      if (index >= urls.length && count === 0) {
        resolve(results); // 全部请求完成
        callback && callback(results);
        return;
      }

      while (count < limit && index < urls.length) {
        let curIndex = index; // 记录当前索引
        let url = urls[index++];
        count++;

        fetch(url)
          .then((res) => res.json()) // 假设返回 JSON 数据
          .then((data) => {
            results[curIndex] = { success: true, data };
          })
          .catch((error) => {
            results[curIndex] = { success: false, error };
          })
          .finally(() => {
            count--;
            next(); // 继续下一个请求
          });
      }
    }

    next(); // 启动请求
  });
}

// 测试
const urls = [
  "https://jsonplaceholder.typicode.com/todos/1",
  "https://jsonplaceholder.typicode.com/todos/2",
  "https://jsonplaceholder.typicode.com/todos/3",
  "https://jsonplaceholder.typicode.com/todos/4",
  "https://jsonplaceholder.typicode.com/todos/5",
];

limitRequest(urls, 2, (results) => {
  console.log("所有请求完成:", results);
});

```

#### 手写ajax
```javascript
const xhr = new XMLHttpRequest();
xhr.open("GET", url, true);
xhr.onreadystatechange = function(){
    if(this.readyState !== 4)return
    if(this.status === 200){
        console.log(this.response);
    }else{
        throw new Error(xhr.statusText);
    }
}
xhr.send();
```